<!-- demo-menu @Perfumere -->
<template>
  <div class="demo-menu">
    <pl-menu
      @logo-click="handleLogoClick"
      @main-click="handleMainSelect"
      @icons-click="handleActionClick"
      @icons-hover="handleActionHover"
      @select="handleSelect"
      @search="handleSearch"
      @write="handleInput"
      @query="handleQuery"
    />
  </div>
</template>

<script lang="ts">
import { defineComponent } from 'vue';

export default defineComponent({
  name: 'demo-menu',
  setup() {
    // æœç´¢æ¡†ä¸‹æ‹‰ ï¼Œåœ¨æ­¤RPCçš„æ–¹æ³•ä»¥åŠæç¤ºé¢æ¿panelä¸­çš„æ•°æ®ï¼Œåˆ‡æ¢type
    const handleSelect = ({ oldItem, newItem }) => { console.log('@select æ”¹å˜ajaxåœ°å€', oldItem, newItem); };
    // é”®å…¥å›è½¦æˆ–è€…ç‚¹å‡»ğŸ”å›¾æ ‡
    const handleSearch = () => { console.log('@search å‘é€ajaxè¯·æ±‚'); };
    // è¾“å…¥æ¡†ä¹¦å†™å†…å®¹
    const handleInput = (value) => { console.log('@write ä¿®æ”¹å“åº”æ•°æ®,é€šè¿‡ç»‘å®šä¸€ä¸ªå“åº”å¼æ•°æ®å®ç°æ‡’æ›´æ–°', value); };
    // å¤„ç†å³ä¾§iconså›¾æ ‡æ—çš„ç‚¹å‡»äº‹ä»¶
    const handleActionClick = (url) => {
      console.log('@icons-click', url);
      if (url) {
        // å¼€å‘æ—¶ä½¿ç”¨vue-routerï¼Œåšspa
        // location.href = url;
      }
    };
    // å¤„ç†å³ä¾§iconså›¾æ ‡æ—çš„æµ®åŠ¨äº‹ä»¶
    const handleActionHover = (url) => {
      console.log('@icons-hover', url);
      if (url) {
        // å¼€å‘æ—¶ä½¿ç”¨vue-routerï¼Œåšspa
        // location.href = url;
      }
    };
    // å¤„ç†é¡¶æ ä¸ªäººå¤´åƒèœå•é¡¹çš„ç‚¹å‡»ï¼Œåœ¨æ­¤åšè·³è½¬
    const handleMainSelect = (item) => {
      console.log('@action', item);
    };
    // å¤„ç†logoç‚¹å‡»
    const handleLogoClick = () => {
      console.log('@logo-click', 'è¿”å›homeé¡µé¢');
    };
    // å¤„ç†panelç‚¹å‡»
    const handleQuery = (item) => {
      console.log('@query', 'é€‰é¡¹å¡ç‚¹å‡»äº†ï¼Œè·³è½¬é¡µé¢', item);
    };
    return {
      handleSelect,
      handleSearch,
      handleInput,
      handleActionClick,
      handleActionHover,
      handleQuery,
      handleLogoClick,
      handleMainSelect,
    };
  },
});
</script>
